57:53.228013-1046963,DBMSSQL,3,process=rphost,p:processName=AstOffice,OSThread=11580,t:clientID=374,t:applicationName=1CV8,t:computerName=AST12MANMBT7,t:connectID=4059,SessionID=11596,Usr=Панченко Дмитрий,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=106,Sql="SELECT TOP 20
T1._IDRRef,
T1._Marked,
T1._Folder,
T1._ParentIDRRef,
CASE WHEN T1._PredefinedID > ? THEN 0x01 ELSE 0x00 END,
T1._Description,
T1._Code,
T1._Fld1286RRef,
T1._Fld1285,
T1._Fld1299RRef,
T1._Fld1313RRef,
T1._Fld25752,
T1._Fld1316RRef,
T1._Fld1294RRef,
T1._Fld1307RRef,
T1._Fld1300,
T1._Fld1295,
T1._Fld1303RRef,
T1._Fld1308RRef,
T1._Fld1292,
T2._Description,
T3._Description,
T4._Description,
T5._Description,
T6._Description,
T7._Description,
T8._Description
FROM dbo._Reference84 T1 WITH(NOLOCK)
LEFT OUTER JOIN dbo._Reference68 T2 WITH(NOLOCK)
ON T1._Fld1286RRef = T2._IDRRef
LEFT OUTER JOIN dbo._Reference58 T3 WITH(NOLOCK)
ON T1._Fld1299RRef = T3._IDRRef
LEFT OUTER JOIN dbo._Reference70 T4 WITH(NOLOCK)
ON T1._Fld1313RRef = T4._IDRRef
LEFT OUTER JOIN dbo._Reference141 T5 WITH(NOLOCK)
ON T1._Fld1316RRef = T5._IDRRef
LEFT OUTER JOIN dbo._Reference29 T6 WITH(NOLOCK)
ON T1._Fld1294RRef = T6._IDRRef
LEFT OUTER JOIN dbo._Reference86 T7 WITH(NOLOCK)
ON T1._Fld1307RRef = T7._IDRRef
LEFT OUTER JOIN dbo._Reference119 T8 WITH(NOLOCK)
ON T1._Fld1303RRef = T8._IDRRef
WHERE ((T1._Description LIKE ? ESCAPE '\'))
ORDER BY (T1._Description) ASC, (T1._IDRRef) ASC
p_0: 0x00000000000000000000000000000000
p_1: '%Телевизор LED ARTEL UA32H1200 HD Телевизор LED VESTEL 32H9500T HD (SMART)%'
",Rows=0,RowsAffected=0
58:00.853019-3484015,DBMSSQL,4,process=rphost,p:processName=AstOffice,OSThread=11100,t:clientID=638,t:applicationName=1CV8,t:computerName=Ast12SMMmanager1,t:connectID=4490,SessionID=13911,Usr=Кабаев Павел Александрович,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=63,Sql='SELECT
T1.Q_001_F_000_TYPE,
T1.Q_001_F_000_RTRef,
T1.Q_001_F_000_RRRef,
CASE WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054) THEN CASE WHEN CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T1.Q_001_F_000_RRRef END IS NOT NULL THEN 0x00000054 END WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B) THEN CASE WHEN CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B THEN T1.Q_001_F_000_RRRef END IS NOT NULL THEN 0x0000005B END END,
CASE WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054) THEN CASE WHEN T1.Q_001_F_000_TYPE = 0x08 THEN T1.Q_001_F_000_RRRef WHEN T1.Q_001_F_000_TYPE IN (0x08) THEN 0x00000000000000000000000000000000 END WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B) THEN CASE WHEN T1.Q_001_F_000_TYPE = 0x08 THEN T1.Q_001_F_000_RRRef WHEN T1.Q_001_F_000_TYPE IN (0x08) THEN 0x00000000000000000000000000000000 END END,
CASE WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054) THEN T14._Description WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B) THEN T15._Description END,
CASE WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054) THEN 0.0 WHEN (T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B) THEN 1.0 END,
T1.Q_001_F_001_,
T1.Q_001_F_006_,
T1.Q_001_F_007_,
T1.Q_001_F_010_,
T1.Q_001_F_014_,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T16._Fld13198RRef ELSE CAST(NULL AS BINARY(16)) END,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T16._Fld13198RRef ELSE CAST(NULL AS BINARY(16)) END,
T17._Description,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._Folder ELSE CAST(NULL AS BINARY(1)) END,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._Description ELSE CAST(NULL AS NVARCHAR(100)) END,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._IDRRef ELSE CAST(NULL AS BINARY(16)) END,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN CASE WHEN T14._ParentIDRRef IS NOT NULL THEN 0x00000054 END WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B THEN CASE WHEN T15._ParentIDRRef IS NOT NULL THEN 0x0000005B END ELSE CAST(NULL AS BINARY(4)) END,
CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T14._ParentIDRRef WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B THEN T15._ParentIDRRef ELSE CAST(NULL AS BINARY(16)) END
FROM (SELECT
T2.Q_001_F_004_TYPE AS Q_001_F_000_TYPE,
T2.Q_001_F_004_RTRef AS Q_001_F_000_RTRef,
T2.Q_001_F_004_RRRef AS Q_001_F_000_RRRef,
CAST(SUM(T2.Q_001_F_010_) AS NUMERIC(27, 3)) AS Q_001_F_001_,
CAST(SUM(T2.Q_001_F_011_) AS NUMERIC(38, 8)) AS Q_001_F_002_,
CAST(SUM(T2.Q_001_F_012_) AS NUMERIC(37, 6)) AS Q_001_F_003_,
CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2)) AS Q_001_F_004_,
CAST(SUM(T2.Q_001_F_014_) AS NUMERIC(27, 2)) AS Q_001_F_005_,
CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) AS Q_001_F_006_,
CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2)) AS Q_001_F_007_,
CAST(SUM(T2.Q_001_F_017_) AS NUMERIC(27, 2)) AS Q_001_F_008_,
CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2)) AS Q_001_F_009_,
(CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) - CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2))) AS Q_001_F_010_,
(CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2)) - CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2))) AS Q_001_F_011_,
(100.0 * CAST(CASE WHEN (CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2)) <> 0.0) THEN (CAST(((CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) - CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2)))) AS NUMERIC(34, 8)) / CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2))) ELSE 0.0 END AS NUMERIC(34, 8))) AS Q_001_F_012_,
(100.0 * CAST(CASE WHEN (CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2)) <> 0.0) THEN (CAST(((CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2)) - CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2)))) AS NUMERIC(35, 8)) / CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2))) ELSE 0.0 END AS NUMERIC(34, 8))) AS Q_001_F_013_,
(100.0 * CAST(CASE WHEN (CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) <> 0.0) THEN (CAST(((CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) - CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2)))) AS NUMERIC(34, 8)) / CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2))) ELSE 0.0 END AS NUMERIC(34, 8))) AS Q_001_F_014_,
(100.0 * CAST(CASE WHEN (CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2)) <> 0.0) THEN (CAST(((CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2)) - CAST(SUM(T2.Q_001_F_016_) AS NUMERIC(28, 2)))) AS NUMERIC(35, 8)) / CAST(SUM(T2.Q_001_F_013_) AS NUMERIC(28, 2))) ELSE 0.0 END AS NUMERIC(34, 8))) AS Q_001_F_015_
FROM (SELECT
T3.Fld11890_TYPE AS Q_001_F_000_TYPE,
T3.Fld11890_RTRef AS Q_001_F_000_RTRef,
T3.Fld11890_RRRef AS Q_001_F_000_RRRef,
T3.Fld11891RRef AS Q_001_F_001RRef,
T3.Fld11892RRef AS Q_001_F_002RRef,
T3.Fld11888RRef AS Q_001_F_003RRef,
T3.Fld11885_TYPE AS Q_001_F_004_TYPE,
T3.Fld11885_RTRef AS Q_001_F_004_RTRef,
T3.Fld11885_RRRef AS Q_001_F_004_RRRef,
T3.Fld11886RRef AS Q_001_F_005RRef,
T3.Fld11887_TYPE AS Q_001_F_006_TYPE,
T3.Fld11887_RTRef AS Q_001_F_006_RTRef,
T3.Fld11887_RRRef AS Q_001_F_006_RRRef,
T3.Fld11893RRef AS Q_001_F_007RRef,
T3.RecorderTRef AS Q_001_F_008TRef,
T3.RecorderRRef AS Q_001_F_008RRef,
T3.Period_ AS Q_001_F_009_,
T3.Fld11895Turnover_ AS Q_001_F_010_,
((T3.Fld11895Turnover_ * ISNULL(CAST(CASE WHEN T3.Fld11885_TYPE = 0x08 AND T3.Fld11885_RTRef = 0x00000054 THEN T12._Fld952 ELSE CAST(NULL AS NUMERIC(10, 3)) END AS NUMERIC(10, 3)),?)) / ISNULL(CAST(CASE WHEN T3.Fld11885_TYPE = 0x08 AND T3.Fld11885_RTRef = 0x00000054 THEN T13._Fld952 ELSE CAST(NULL AS NUMERIC(10, 3)) END AS NUMERIC(10, 3)),?)) AS Q_001_F_011_,
(T3.Fld11895Turnover_ * ISNULL(CAST(CASE WHEN T3.Fld11885_TYPE = 0x08 AND T3.Fld11885_RTRef = 0x00000054 THEN T12._Fld952 ELSE CAST(NULL AS NUMERIC(10, 3)) END AS NUMERIC(10, 3)),?)) AS Q_001_F_012_,
(T3.Fld11897Turnover_ - T3.Fld11896Turnover_) AS Q_001_F_013_,
T3.Fld11896Turnover_ AS Q_001_F_014_,
T3.Fld11897Turnover_ AS Q_001_F_015_,
(ISNULL(CAST(T7.Q_001_F_004_ AS NUMERIC(21, 2)),?) - ISNULL(CAST(T7.Q_001_F_005_ AS NUMERIC(21, 2)),?)) AS Q_001_F_016_,
ISNULL(CAST(T7.Q_001_F_005_ AS NUMERIC(21, 2)),?) AS Q_001_F_017_,
ISNULL(CAST(T7.Q_001_F_004_ AS NUMERIC(21, 2)),?) AS Q_001_F_018_
FROM (SELECT
T4._Period AS Period_,
T4._RecorderTRef AS RecorderTRef,
T4._RecorderRRef AS RecorderRRef,
T4._Fld11885_TYPE AS Fld11885_TYPE,
T4._Fld11885_RTRef AS Fld11885_RTRef,
T4._Fld11885_RRRef AS Fld11885_RRRef,
T4._Fld11886RRef AS Fld11886RRef,
T4._Fld11887_TYPE AS Fld11887_TYPE,
T4._Fld11887_RTRef AS Fld11887_RTRef,
T4._Fld11887_RRRef AS Fld11887_RRRef,
T4._Fld11890_TYPE AS Fld11890_TYPE,
T4._Fld11890_RTRef AS Fld11890_RTRef,
T4._Fld11890_RRRef AS Fld11890_RRRef,
T4._Fld11891RRef AS Fld11891RRef,
T4._Fld11892RRef AS Fld11892RRef,
T4._Fld11888RRef AS Fld11888RRef,
T4._Fld11893RRef AS Fld11893RRef,
CAST(SUM(T4._Fld11897) AS NUMERIC(21, 2)) AS Fld11897Turnover_,
CAST(SUM(T4._Fld11896) AS NUMERIC(21, 2)) AS Fld11896Turnover_,
CAST(SUM(T4._Fld11895) AS NUMERIC(21, 3)) AS Fld11895Turnover_
FROM dbo._AccumRg11884 T4 WITH(NOLOCK)
LEFT OUTER JOIN dbo._Reference84 T5 WITH(NOLOCK)
ON T4._Fld11885_TYPE = 0x08 AND T4._Fld11885_RTRef = 0x00000054 AND T4._Fld11885_RRRef = T5._IDRRef
LEFT OUTER JOIN dbo._Reference85 T6 WITH(NOLOCK)
ON T5._Fld1301RRef = T6._IDRRef
WHERE T4._Period >= ? AND T4._Period <= ? AND T4._Active = 0x01 AND ((CASE WHEN T4._Fld11885_TYPE = 0x08 AND T4._Fld11885_RTRef = 0x00000054 THEN T5._Fld1301RRef ELSE CAST(NULL AS BINARY(16)) END IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)) AND (CASE WHEN T4._Fld11885_TYPE = 0x08 AND T4._Fld11885_RTRef = 0x00000054 THEN T6._Fld13198RRef ELSE CAST(NULL AS BINARY(16)) END = ?))
GROUP BY T4._Period,
T4._RecorderTRef,
T4._RecorderRRef,
T4._Fld11885_TYPE,
T4._Fld11885_RTRef,
T4._Fld11885_RRRef,
T4._Fld11886RRef,
T4._Fld11887_TYPE,
T4._Fld11887_RTRef,
T4._Fld11887_RRRef,
T4._Fld11890_TYPE,
T4._Fld11890_RTRef,
T4._Fld11890_RRRef,
T4._Fld11891RRef,
T4._Fld11892RRef,
T4._Fld11888RRef,
T4._Fld11893RRef
HAVING (CAST(SUM(T4._Fld11897) AS NUMERIC(21, 2))) <> 0.0 OR (CAST(SUM(T4._Fld11896) AS NUMERIC(21, 2))) <> 0.0 OR (CAST(SUM(T4._Fld11895) AS NUMERIC(21, 3))) <> 0.0) T3
LEFT OUTER JOIN (SELECT
T8._Fld11915RRef AS Q_001_F_000RRef,
T8._Fld11916RRef AS Q_001_F_001RRef,
T8._Fld11917_TYPE AS Q_001_F_002_TYPE,
T8._Fld11917_RTRef AS Q_001_F_002_RTRef,
T8._Fld11917_RRRef AS Q_001_F_002_RRRef,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_TYPE ELSE 0x08 END AS Q_001_F_003_TYPE,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_RTRef ELSE T8._RecorderTRef END AS Q_001_F_003_RTRef,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_RRRef ELSE T8._RecorderRRef END AS Q_001_F_003_RRRef,
CAST(SUM(T8._Fld11922) AS NUMERIC(21, 2)) AS Q_001_F_004_,
CAST(SUM(T8._Fld11923) AS NUMERIC(21, 2)) AS Q_001_F_005_
FROM dbo._AccumRg11914 T8 WITH(NOLOCK)
LEFT OUTER JOIN dbo._Reference84 T9 WITH(NOLOCK)
ON T8._Fld11915RRef = T9._IDRRef
LEFT OUTER JOIN dbo._Reference85 T10 WITH(NOLOCK)
ON T9._Fld1301RRef = T10._IDRRef
WHERE (T8._Period >= ?) AND (T8._Period <= ?) AND (T10._Fld13198RRef = ?)
GROUP BY T8._Fld11915RRef,
T8._Fld11916RRef,
T8._Fld11917_TYPE,
T8._Fld11917_RTRef,
T8._Fld11917_RRRef,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_TYPE ELSE 0x08 END,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_RTRef ELSE T8._RecorderTRef END,
CASE WHEN (T8._Fld11925_TYPE <> 0x01) THEN T8._Fld11925_RRRef ELSE T8._RecorderRRef END) T7
ON (0x08 = T3.Fld11885_TYPE AND 0x00000054 = T3.Fld11885_RTRef AND T7.Q_001_F_000RRef = T3.Fld11885_RRRef) AND (T7.Q_001_F_001RRef = T3.Fld11886RRef) AND (T7.Q_001_F_002_TYPE = T3.Fld11887_TYPE AND T7.Q_001_F_002_RTRef = T3.Fld11887_RTRef AND T7.Q_001_F_002_RRRef = T3.Fld11887_RRRef) AND (T7.Q_001_F_003_TYPE = 0x08 AND T7.Q_001_F_003_RTRef = T3.RecorderTRef AND T7.Q_001_F_003_RRRef = T3.RecorderRRef)
LEFT OUTER JOIN dbo._Reference84 T11 WITH(NOLOCK)
ON T3.Fld11885_TYPE = 0x08 AND T3.Fld11885_RTRef = 0x00000054 AND T3.Fld11885_RRRef = T11._IDRRef
LEFT OUTER JOIN dbo._Reference58 T12 WITH(NOLOCK)
ON T11._Fld1299RRef = T12._IDRRef
LEFT OUTER JOIN dbo._Reference58 T13 WITH(NOLOCK)
ON T11._Fld1297RRef = T13._IDRRef) T2
GROUP BY T2.Q_001_F_004_TYPE,
T2.Q_001_F_004_RTRef,
T2.Q_001_F_004_RRRef
HAVING (CAST(SUM(T2.Q_001_F_010_) AS NUMERIC(27, 3)) <> 0.0) OR (CAST(SUM(T2.Q_001_F_015_) AS NUMERIC(27, 2)) <> 0.0) OR (CAST(SUM(T2.Q_001_F_018_) AS NUMERIC(27, 2)) <> 0.0)) T1
LEFT OUTER JOIN dbo._Reference84 T14 WITH(NOLOCK)
ON T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 AND T1.Q_001_F_000_RRRef = T14._IDRRef
LEFT OUTER JOIN dbo._Reference91 T15 WITH(NOLOCK)
ON T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x0000005B AND T1.Q_001_F_000_RRRef = T15._IDRRef
LEFT OUTER JOIN dbo._Reference85 T16 WITH(NOLOCK)
ON T14._Fld1301RRef = T16._IDRRef
LEFT OUTER JOIN dbo._Reference96 T17 WITH(NOLOCK)
ON CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T16._Fld13198RRef ELSE CAST(NULL AS BINARY(16)) END = T17._IDRRef
LEFT OUTER JOIN dbo._Reference96 T18 WITH(NOLOCK)
ON T16._Fld13198RRef = T18._IDRRef
ORDER BY (CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._Folder ELSE CAST(NULL AS BINARY(1)) END), (CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._Description ELSE CAST(NULL AS NVARCHAR(100)) END), (CASE WHEN T1.Q_001_F_000_TYPE = 0x08 AND T1.Q_001_F_000_RTRef = 0x00000054 THEN T18._IDRRef ELSE CAST(NULL AS BINARY(16)) END)
p_0: 1N
p_1: 1N
p_2: 1N
p_3: 0N
p_4: 0N
p_5: 0N
p_6: 0N
p_7: 40230407000000
p_8: 40230407235959
p_9: 0x85E390E6BAD53EC511DFEA3787939046
p_10: 0x85E390E6BAD53EC511DFEA3828A41B86
p_11: 0x85E390E6BAD53EC511DFEA384F77D752
p_12: 0x85E390E6BAD53EC511DFEA3B184B347B
p_13: 0x85E390E6BAD53EC511DFEA3B184B3484
p_14: 0x889E2C768A5D355111E4ED5578F3E1A4
p_15: 0x80C92C768A5D355311E739FD88E09E90
p_16: 0xA218005056B6DBD711E8B019183E735D
p_17: 0x85E390E6BAD53EC511DFEA45D9FE419D
p_18: 0x85E390E6BAD53EC511DFEA461A05A36D
p_19: 0x8E270022649B083E11E014D2645852D2
p_20: 0x8C3A0022649B083E11E0340D7CB3EB20
p_21: 0x8C3A0022649B083E11E03676F6391CB6
p_22: 0xB3322C768A5D355311E2F2AEE78DD074
p_23: 0xA9292C768A5D355311E393E1AC666EA6
p_24: 0x845A2C768A5D355111E58DAC21E69EFB
p_25: 0xBD6468B599C9809D11E12471BD8B9FF5
p_26: 0xBD6468B599C9809D11E12471BD8B9FFB
p_27: 0xB7CD2C768A5D355311E38CB17E532269
p_28: 0x86922C768A5D355311E3E0973F241762
p_29: 0x86922C768A5D355311E3EB08076F2B9B
p_30: 0x9FFE2C768A5D355311E48A7CB0601389
p_31: 0x2686001E672DD49C11E35D6EEB905CEE
p_32: 0xBD6468B599C9809D11E12471BD8B9FF7
p_33: 0x9AAF2C768A5D355311E34534A9CF427D
p_34: 0xB7CD2C768A5D355311E38CAB0620032B
p_35: 0xB7CD2C768A5D355311E38CAB06200350
p_36: 0x97172C768A5D355311E3987B772ADE51
p_37: 0x9B512C768A5D355311E3B630A6B3511D
p_38: 0x86922C768A5D355311E3EB1069C0E18A
p_39: 0xA7EB2C768A5D355111E56E72B4AE03CE
p_40: 0x80C52C768A5D355311E72645761A9A3B
p_41: 0x9BEA68B599C9809D11E2B2FCAA22534F
p_42: 0x85E390E6BAD53EC511DFEA3A9F9F1CFE
p_43: 0xAA142C768A5D355111E617FADD1F9080
p_44: 0xAA142C768A5D355111E617FADD1F9088
p_45: 0xA22D005056B6DBD711EA9409FA3E400D
p_46: 0xA22D005056B6DBD711EA9409FA3E400F
p_47: 0xA243005056B6DBD711EC741F5D11730E
p_48: 0xA23F005056B6DBD711EBC90422CA36EB
p_49: 0xA230005056B6DBD711EAD22E38754F41
p_50: 40230407000000
p_51: 40230407235959
p_52: 0xA230005056B6DBD711EAD22E38754F41
',Rows=58,RowsAffected=-1
58:00.869006-0,Context,2,process=rphost,p:processName=AstOffice,OSThread=11100,t:clientID=638,t:applicationName=1CV8,t:computerName=Ast12SMMmanager1,t:connectID=4490,SessionID=13911,Usr=Кабаев Павел Александрович,Context='
Отчет.ВаловаяПрибыль.Форма.Форма.Форма : 55 : ОбновитьОтчет();
	Отчет.ВаловаяПрибыль.Форма.Форма.Форма : 8 : СформироватьОтчет(ЭлементыФормы.ПолеТабличногоДокументаРезультат);
		Отчет.ВаловаяПрибыль.МодульОбъекта : 985 : УниверсальныйОтчет.СформироватьОтчет(ТабличныйДокумент);
			Отчет.УниверсальныйОтчет.МодульОбъекта : 86 : ПостроительОтчета.Вывести(ТабличныйДокумент);'
58:12.306000-1109000,DBMSSQL,4,process=rphost,p:processName=AstOffice,OSThread=3572,t:clientID=374,t:applicationName=1CV8,t:computerName=AST12MANMBT7,t:connectID=4059,SessionID=11596,Usr=Панченко Дмитрий,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=75,Sql="SELECT
T1.Q_001_F_000RRef,
CASE WHEN T3.Q_001_F_001RRef IS NOT NULL THEN 0x08 END,
CASE WHEN T3.Q_001_F_001RRef IS NOT NULL THEN ? END,
T3.Q_001_F_001RRef,
CASE WHEN T15.Q_001_F_000RRef IS NOT NULL THEN 0x08 END,
CASE WHEN T15.Q_001_F_000RRef IS NOT NULL THEN ? END,
T15.Q_001_F_000RRef,
T3.Q_001_F_002_,
T3.Q_001_F_003_,
T3.Q_001_F_004_,
CAST(? AS NUMERIC(34, 3)),
CASE WHEN T17.Q_001_F_005_ IS NOT NULL THEN 0x02 END,
T17.Q_001_F_005_,
CASE WHEN T17.Q_001_F_005_ IS NOT NULL THEN ? END,
ISNULL(CAST(T17.Q_001_F_002_ AS NUMERIC(38, 8)),?),
CASE WHEN T17.Q_001_F_003RRef IS NOT NULL THEN 0x08 END,
CASE WHEN T17.Q_001_F_003RRef IS NOT NULL THEN ? END,
T17.Q_001_F_003RRef,
CASE WHEN T17.Q_001_F_004RRef IS NOT NULL THEN 0x08 END,
CASE WHEN T17.Q_001_F_004RRef IS NOT NULL THEN ? END,
T17.Q_001_F_004RRef,
?,
?,
T17.Q_001_F_007RRef
FROM (SELECT
T2._IDRRef AS Q_001_F_000RRef,
T2._OwnerIDRRef AS Q_001_F_001RRef
FROM dbo._Reference138 T2 WITH(NOLOCK)
WHERE (T2._OwnerIDRRef = ?)
UNION SELECT
0x00000000000000000000000000000000,
?) T1
LEFT OUTER JOIN (SELECT
T4.Q_001_F_000RRef AS Q_001_F_000RRef,
T4.Q_001_F_001RRef AS Q_001_F_001RRef,
CAST(SUM(((T4.Q_001_F_002_ + T4.Q_001_F_003_) + T4.Q_001_F_004_)) AS NUMERIC(35, 3)) AS Q_001_F_002_,
CAST(SUM(((((T4.Q_001_F_002_ + T4.Q_001_F_003_) + T4.Q_001_F_004_) - CASE WHEN (T4.Q_001_F_005_ < 0.0) THEN (T4.Q_001_F_005_ * -1.0) ELSE T4.Q_001_F_005_ END) - T4.Q_001_F_006_)) AS NUMERIC(37, 3)) AS Q_001_F_003_,
CAST(SUM(T4.Q_001_F_005_) AS NUMERIC(33, 3)) AS Q_001_F_004_
FROM (SELECT
T5.Fld12208RRef AS Q_001_F_000RRef,
T5.Fld12206RRef AS Q_001_F_001RRef,
T5.Fld12211Balance_ AS Q_001_F_002_,
CAST(? AS NUMERIC(27, 3)) AS Q_001_F_003_,
CAST(? AS NUMERIC(27, 3)) AS Q_001_F_004_,
CAST(? AS NUMERIC(27, 3)) AS Q_001_F_005_,
CAST(? AS NUMERIC(27, 3)) AS Q_001_F_006_
FROM (SELECT
T6._Fld12208RRef AS Fld12208RRef,
T6._Fld12206RRef AS Fld12206RRef,
CAST(SUM(T6._Fld12211) AS NUMERIC(27, 3)) AS Fld12211Balance_
FROM dbo._AccumRgT12213 T6 WITH(NOLOCK)
WHERE T6._Period = ? AND ((T6._Fld12207RRef = ?)) AND (T6._Fld12211 <> ?) AND (T6._Fld12211 <> ?)
GROUP BY T6._Fld12208RRef,
T6._Fld12206RRef
HAVING (CAST(SUM(T6._Fld12211) AS NUMERIC(27, 3))) <> 0.0) T5
UNION ALL SELECT
T7.Fld12132RRef AS Fld12132RRef,
T7.Fld12130RRef AS Fld12130RRef,
CAST(? AS NUMERIC(27, 3)),
T7.Fld12135Balance_ AS Fld12135Balance_,
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3))
FROM (SELECT
T8._Fld12132RRef AS Fld12132RRef,
T8._Fld12130RRef AS Fld12130RRef,
CAST(SUM(T8._Fld12135) AS NUMERIC(27, 3)) AS Fld12135Balance_
FROM dbo._AccumRgT12138 T8 WITH(NOLOCK)
WHERE T8._Period = ? AND ((T8._Fld12131RRef = ?)) AND (T8._Fld12135 <> ?) AND (T8._Fld12135 <> ?)
GROUP BY T8._Fld12132RRef,
T8._Fld12130RRef
HAVING (CAST(SUM(T8._Fld12135) AS NUMERIC(27, 3))) <> 0.0) T7
UNION ALL SELECT
T9.Fld12110RRef AS Fld12110RRef,
T9.Fld12107RRef AS Fld12107RRef,
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
T9.Fld12113Balance_ AS Fld12113Balance_,
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3))
FROM (SELECT
T10._Fld12110RRef AS Fld12110RRef,
T10._Fld12107RRef AS Fld12107RRef,
CAST(SUM(T10._Fld12113) AS NUMERIC(27, 3)) AS Fld12113Balance_
FROM dbo._AccumRgT12116 T10 WITH(NOLOCK)
WHERE T10._Period = ? AND ((T10._Fld12109RRef = ?)) AND (T10._Fld12113 <> ?) AND (T10._Fld12113 <> ?)
GROUP BY T10._Fld12110RRef,
T10._Fld12107RRef
HAVING (CAST(SUM(T10._Fld12113) AS NUMERIC(27, 3))) <> 0.0) T9
UNION ALL SELECT
T11.Fld12122RRef AS Fld12122RRef,
T11.Fld12119RRef AS Fld12119RRef,
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
T11.Fld12124Balance_ AS Fld12124Balance_,
CAST(? AS NUMERIC(27, 3))
FROM (SELECT
T12._Fld12122RRef AS Fld12122RRef,
T12._Fld12119RRef AS Fld12119RRef,
CAST(SUM(T12._Fld12124) AS NUMERIC(27, 3)) AS Fld12124Balance_
FROM dbo._AccumRgT12127 T12 WITH(NOLOCK)
WHERE T12._Period = ? AND ((T12._Fld12121RRef = ?)) AND (T12._Fld12124 <> ?) AND (T12._Fld12124 <> ?)
GROUP BY T12._Fld12122RRef,
T12._Fld12119RRef
HAVING (CAST(SUM(T12._Fld12124) AS NUMERIC(27, 3))) <> 0.0) T11
UNION ALL SELECT
T13.Fld12156RRef AS Fld12156RRef,
T13.Fld12153RRef AS Fld12153RRef,
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
CAST(? AS NUMERIC(27, 3)),
T13.Fld12161Balance_ AS Fld12161Balance_
FROM (SELECT
T14._Fld12156RRef AS Fld12156RRef,
T14._Fld12153RRef AS Fld12153RRef,
CAST(SUM(T14._Fld12161) AS NUMERIC(27, 3)) AS Fld12161Balance_
FROM dbo._AccumRgT12163 T14 WITH(NOLOCK)
WHERE T14._Period = ? AND ((T14._Fld12155RRef = ?)) AND (T14._Fld12161 <> ?) AND (T14._Fld12161 <> ?)
GROUP BY T14._Fld12156RRef,
T14._Fld12153RRef
HAVING (CAST(SUM(T14._Fld12161) AS NUMERIC(27, 3))) <> 0.0) T13) T4
GROUP BY T4.Q_001_F_000RRef,
T4.Q_001_F_001RRef) T3
ON (T1.Q_001_F_000RRef = T3.Q_001_F_000RRef)
LEFT OUTER JOIN (SELECT
T16._Fld9886RRef AS Q_001_F_000RRef,
T16._Fld9884RRef AS Q_001_F_001RRef,
T16._Fld9883RRef AS Q_001_F_002RRef,
T16._Fld9885 AS Q_001_F_003_
FROM dbo._InfoRg9882 T16 WITH(NOLOCK)
WHERE (T16._Fld9883RRef = ?)) T15
ON (T15.Q_001_F_001RRef = T3.Q_001_F_001RRef)
LEFT OUTER JOIN (SELECT
T18.Q_001_F_000RRef AS Q_001_F_000RRef,
T18.Q_001_F_001RRef AS Q_001_F_001RRef,
CASE WHEN T18.Q_001_F_010_ = 0x01 THEN CASE WHEN (T18.Q_001_F_003RRef = ?) THEN (ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) + (CAST(ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) AS NUMERIC(34, 8)) * CAST((CAST(T18.Q_001_F_004_ AS NUMERIC(11, 8)) / ?) AS NUMERIC(11, 8)))) ELSE ISNULL(CAST(T51.Q_001_F_004_ AS NUMERIC(15, 2)),?) END ELSE ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) END AS Q_001_F_002_,
CASE WHEN T18.Q_001_F_010_ = 0x01 THEN CASE WHEN (T18.Q_001_F_003RRef = ?) THEN T18.Q_001_F_005RRef ELSE T51.Q_001_F_005RRef END ELSE T18.Q_001_F_005RRef END AS Q_001_F_003RRef,
CASE WHEN T18.Q_001_F_010_ = 0x01 THEN CASE WHEN (T18.Q_001_F_003RRef = ?) THEN T18.Q_001_F_007RRef ELSE T51.Q_001_F_003RRef END ELSE T18.Q_001_F_007RRef END AS Q_001_F_004RRef,
0x00 AS Q_001_F_005_,
T18.Q_001_F_010_ AS Q_001_F_006_,
T18.Q_001_F_009RRef AS Q_001_F_007RRef
FROM (SELECT
T19.Q_001_F_000RRef AS Q_001_F_000RRef,
T19.Q_001_F_001RRef AS Q_001_F_001RRef,
CASE WHEN T19.Q_001_F_005_ = 0x01 THEN CASE WHEN (ISNULL(CAST(T42.Fld9873_ AS NUMERIC(10, 0)),?) = ?) OR (ISNULL(CAST(T47.Fld9872_ AS NUMERIC(10, 4)),?) = ?) THEN ? ELSE ((CAST(((ISNULL(CAST(ISNULL(CAST(T26.Fld11087_ AS NUMERIC(15, 2)),T30.Fld11087_) AS NUMERIC(15, 2)),?) * ISNULL(CAST(T42.Fld9872_ AS NUMERIC(10, 4)),?)) * ISNULL(CAST(T47.Fld9873_ AS NUMERIC(10, 0)),?)) AS NUMERIC(37, 8)) / T42.Fld9873_) / T47.Fld9872_) END ELSE ISNULL(CAST(T26.Fld11087_ AS NUMERIC(15, 2)),T30.Fld11087_) END AS Q_001_F_002_,
CASE WHEN T19.Q_001_F_005_ = 0x01 THEN CASE WHEN ((ISNULL(T34.Fld11090RRef,T38.Fld11090RRef)) IS NULL) THEN T46._Fld1693RRef ELSE ISNULL(T34.Fld11090RRef,T38.Fld11090RRef) END ELSE CAST(NULL AS BINARY(16)) END AS Q_001_F_003RRef,
CASE WHEN T19.Q_001_F_005_ = 0x01 THEN CASE WHEN ((ISNULL(CAST(T34.Fld11089_ AS NUMERIC(5, 2)),T38.Fld11089_)) IS NULL) THEN T46._Fld1688 ELSE ISNULL(CAST(T34.Fld11089_ AS NUMERIC(5, 2)),T38.Fld11089_) END ELSE CAST(NULL AS NUMERIC(5, 2)) END AS Q_001_F_004_,
CASE WHEN T19.Q_001_F_005_ = 0x01 THEN ISNULL(ISNULL(T34.Fld11086RRef,T38.Fld11086RRef),T46._Fld1685RRef) ELSE ISNULL(T26.Fld11086RRef,T30.Fld11086RRef) END AS Q_001_F_005RRef,
T47.Fld9871RRef AS Q_001_F_006RRef,
ISNULL(ISNULL(T26.Fld11088RRef,T30.Fld11088RRef),T19.Q_001_F_002RRef) AS Q_001_F_007RRef,
T19.Q_001_F_003RRef AS Q_001_F_008RRef,
T19.Q_001_F_004RRef AS Q_001_F_009RRef,
T19.Q_001_F_005_ AS Q_001_F_010_
FROM (SELECT
T20.Q_001_F_000RRef AS Q_001_F_000RRef,
T20.Q_001_F_001RRef AS Q_001_F_001RRef,
T20.Q_001_F_002RRef AS Q_001_F_002RRef,
CASE WHEN T25._Fld1687 = 0x01 THEN T25._Fld1686RRef ELSE T25._IDRRef END AS Q_001_F_003RRef,
T25._IDRRef AS Q_001_F_004RRef,
T25._Fld1687 AS Q_001_F_005_
FROM (SELECT
T21.Q_001_F_000RRef AS Q_001_F_000RRef,
T21.Q_001_F_001RRef AS Q_001_F_001RRef,
T23._Fld1299RRef AS Q_001_F_002RRef,
T24._IDRRef AS Q_001_F_003RRef
FROM (SELECT
T22._OwnerIDRRef AS Q_001_F_000RRef,
T22._IDRRef AS Q_001_F_001RRef
FROM dbo._Reference138 T22 WITH(NOLOCK)
WHERE (T22._OwnerIDRRef = ?)
UNION SELECT
?,
0x00000000000000000000000000000000) T21
INNER JOIN dbo._Reference84 T23 WITH(NOLOCK)
ON (T23._IDRRef = T21.Q_001_F_000RRef)
INNER JOIN dbo._Reference129 T24 WITH(NOLOCK)
ON 1=1
WHERE (T24._IDRRef IN (?))) T20
INNER JOIN dbo._Reference129 T25 WITH(NOLOCK)
ON (T25._IDRRef = T20.Q_001_F_003RRef)) T19
LEFT OUTER JOIN (SELECT
T29._Fld11083RRef AS Fld11083RRef,
T29._Fld11085RRef AS Fld11085RRef,
T29._Fld11084RRef AS Fld11084RRef,
T29._Fld11086RRef AS Fld11086RRef,
T29._Fld11087 AS Fld11087_,
T29._Fld11088RRef AS Fld11088RRef
FROM (SELECT
T28._Fld11083RRef AS Fld11083RRef,
T28._Fld11084RRef AS Fld11084RRef,
T28._Fld11085RRef AS Fld11085RRef,
MAX(T28._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T28 WITH(NOLOCK)
WHERE T28._Period <= ? AND T28._Active = 0x01 AND ((T28._Fld11083RRef = ?))
GROUP BY T28._Fld11083RRef,
T28._Fld11084RRef,
T28._Fld11085RRef) T27
INNER JOIN dbo._InfoRg11082 T29 WITH(NOLOCK)
ON T27.Fld11083RRef = T29._Fld11083RRef AND T27.Fld11084RRef = T29._Fld11084RRef AND T27.Fld11085RRef = T29._Fld11085RRef AND T27.MAXPERIOD_ = T29._Period) T26
ON (T26.Fld11083RRef = T19.Q_001_F_000RRef) AND (T26.Fld11085RRef = T19.Q_001_F_001RRef) AND (T26.Fld11084RRef = T19.Q_001_F_003RRef)
LEFT OUTER JOIN (SELECT
T33._Fld11083RRef AS Fld11083RRef,
T33._Fld11085RRef AS Fld11085RRef,
T33._Fld11084RRef AS Fld11084RRef,
T33._Fld11086RRef AS Fld11086RRef,
T33._Fld11087 AS Fld11087_,
T33._Fld11088RRef AS Fld11088RRef
FROM (SELECT
T32._Fld11083RRef AS Fld11083RRef,
T32._Fld11084RRef AS Fld11084RRef,
T32._Fld11085RRef AS Fld11085RRef,
MAX(T32._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T32 WITH(NOLOCK)
WHERE T32._Period <= ? AND T32._Active = 0x01 AND ((T32._Fld11083RRef = ?))
GROUP BY T32._Fld11083RRef,
T32._Fld11084RRef,
T32._Fld11085RRef) T31
INNER JOIN dbo._InfoRg11082 T33 WITH(NOLOCK)
ON T31.Fld11083RRef = T33._Fld11083RRef AND T31.Fld11084RRef = T33._Fld11084RRef AND T31.Fld11085RRef = T33._Fld11085RRef AND T31.MAXPERIOD_ = T33._Period) T30
ON (T30.Fld11083RRef = T19.Q_001_F_000RRef) AND (T30.Fld11085RRef = 0x00000000000000000000000000000000) AND (T30.Fld11084RRef = T19.Q_001_F_003RRef)
LEFT OUTER JOIN (SELECT
T37._Fld11083RRef AS Fld11083RRef,
T37._Fld11085RRef AS Fld11085RRef,
T37._Fld11084RRef AS Fld11084RRef,
T37._Fld11086RRef AS Fld11086RRef,
T37._Fld11090RRef AS Fld11090RRef,
T37._Fld11089 AS Fld11089_
FROM (SELECT
T36._Fld11083RRef AS Fld11083RRef,
T36._Fld11084RRef AS Fld11084RRef,
T36._Fld11085RRef AS Fld11085RRef,
MAX(T36._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T36 WITH(NOLOCK)
WHERE T36._Period <= ? AND T36._Active = 0x01 AND ((T36._Fld11083RRef = ?))
GROUP BY T36._Fld11083RRef,
T36._Fld11084RRef,
T36._Fld11085RRef) T35
INNER JOIN dbo._InfoRg11082 T37 WITH(NOLOCK)
ON T35.Fld11083RRef = T37._Fld11083RRef AND T35.Fld11084RRef = T37._Fld11084RRef AND T35.Fld11085RRef = T37._Fld11085RRef AND T35.MAXPERIOD_ = T37._Period) T34
ON (T34.Fld11083RRef = T19.Q_001_F_000RRef) AND (T34.Fld11085RRef = T19.Q_001_F_001RRef) AND (T34.Fld11084RRef = T19.Q_001_F_004RRef)
LEFT OUTER JOIN (SELECT
T41._Fld11083RRef AS Fld11083RRef,
T41._Fld11085RRef AS Fld11085RRef,
T41._Fld11084RRef AS Fld11084RRef,
T41._Fld11086RRef AS Fld11086RRef,
T41._Fld11090RRef AS Fld11090RRef,
T41._Fld11089 AS Fld11089_
FROM (SELECT
T40._Fld11083RRef AS Fld11083RRef,
T40._Fld11084RRef AS Fld11084RRef,
T40._Fld11085RRef AS Fld11085RRef,
MAX(T40._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T40 WITH(NOLOCK)
WHERE T40._Period <= ? AND T40._Active = 0x01 AND ((T40._Fld11083RRef = ?))
GROUP BY T40._Fld11083RRef,
T40._Fld11084RRef,
T40._Fld11085RRef) T39
INNER JOIN dbo._InfoRg11082 T41 WITH(NOLOCK)
ON T39.Fld11083RRef = T41._Fld11083RRef AND T39.Fld11084RRef = T41._Fld11084RRef AND T39.Fld11085RRef = T41._Fld11085RRef AND T39.MAXPERIOD_ = T41._Period) T38
ON (T38.Fld11083RRef = T19.Q_001_F_000RRef) AND (T38.Fld11085RRef = 0x00000000000000000000000000000000) AND (T38.Fld11084RRef = T19.Q_001_F_004RRef)
LEFT OUTER JOIN (SELECT
T45._Fld9871RRef AS Fld9871RRef,
T45._Fld9872 AS Fld9872_,
T45._Fld9873 AS Fld9873_
FROM (SELECT
T44._Fld9871RRef AS Fld9871RRef,
MAX(T44._Period) AS MAXPERIOD_
FROM dbo._InfoRg9870 T44 WITH(NOLOCK)
GROUP BY T44._Fld9871RRef) T43
INNER JOIN dbo._InfoRg9870 T45 WITH(NOLOCK)
ON T43.Fld9871RRef = T45._Fld9871RRef AND T43.MAXPERIOD_ = T45._Period) T42
ON (T42.Fld9871RRef = ISNULL(T26.Fld11086RRef,T30.Fld11086RRef))
LEFT OUTER JOIN dbo._Reference129 T46 WITH(NOLOCK)
ON (T46._IDRRef = T19.Q_001_F_004RRef)
LEFT OUTER JOIN (SELECT
T50._Fld9871RRef AS Fld9871RRef,
T50._Fld9873 AS Fld9873_,
T50._Fld9872 AS Fld9872_
FROM (SELECT
T49._Fld9871RRef AS Fld9871RRef,
MAX(T49._Period) AS MAXPERIOD_
FROM dbo._InfoRg9870 T49 WITH(NOLOCK)
GROUP BY T49._Fld9871RRef) T48
INNER JOIN dbo._InfoRg9870 T50 WITH(NOLOCK)
ON T48.Fld9871RRef = T50._Fld9871RRef AND T48.MAXPERIOD_ = T50._Period) T47
ON (T47.Fld9871RRef = CASE WHEN T19.Q_001_F_005_ = 0x01 AND ((ISNULL(T34.Fld11086RRef,T38.Fld11086RRef)) IS NULL) THEN T46._Fld1685RRef ELSE ISNULL(T34.Fld11086RRef,T38.Fld11086RRef) END)) T18
LEFT OUTER JOIN (SELECT
T52.Q_001_F_000RRef AS Q_001_F_000RRef,
T52.Q_001_F_001RRef AS Q_001_F_001RRef,
T52.Q_001_F_002RRef AS Q_001_F_002RRef,
T52.Q_001_F_004RRef AS Q_001_F_003RRef,
T77.Q_001_F_002_ AS Q_001_F_004_,
T77.Q_001_F_000RRef AS Q_001_F_005RRef
FROM (SELECT
T53.Q_001_F_000RRef AS Q_001_F_000RRef,
T53.Q_001_F_001RRef AS Q_001_F_001RRef,
T53.Q_001_F_003RRef AS Q_001_F_002RRef,
MIN(T66.Q_001_F_000RRef) AS Q_001_F_003RRef,
MIN(T53.Q_001_F_004RRef) AS Q_001_F_004RRef,
MIN(T66.Q_001_F_003_) AS Q_001_F_005_
FROM (SELECT
T54.Q_001_F_000RRef AS Q_001_F_000RRef,
T54.Q_001_F_001RRef AS Q_001_F_001RRef,
ISNULL(CAST(ISNULL(CAST(T56.Fld11087_ AS NUMERIC(15, 2)),T61.Fld11087_) AS NUMERIC(15, 2)),?) AS Q_001_F_002_,
ISNULL(T56.Fld11084RRef,T61.Fld11084RRef) AS Q_001_F_003RRef,
ISNULL(T56.Fld11088RRef,T61.Fld11088RRef) AS Q_001_F_004RRef
FROM (SELECT
T55._OwnerIDRRef AS Q_001_F_000RRef,
T55._IDRRef AS Q_001_F_001RRef
FROM dbo._Reference138 T55 WITH(NOLOCK)
WHERE (T55._OwnerIDRRef = ?)
UNION SELECT
?,
0x00000000000000000000000000000000) T54
LEFT OUTER JOIN (SELECT
T60._Fld11084RRef AS Fld11084RRef,
T60._Fld11083RRef AS Fld11083RRef,
T60._Fld11085RRef AS Fld11085RRef,
T60._Fld11087 AS Fld11087_,
T60._Fld11088RRef AS Fld11088RRef
FROM (SELECT
T58._Fld11083RRef AS Fld11083RRef,
T58._Fld11084RRef AS Fld11084RRef,
T58._Fld11085RRef AS Fld11085RRef,
MAX(T58._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T58 WITH(NOLOCK)
LEFT OUTER JOIN dbo._Reference129 T59 WITH(NOLOCK)
ON T58._Fld11084RRef = T59._IDRRef
WHERE T58._Period <= ? AND T58._Active = 0x01 AND ((T58._Fld11083RRef = ?) AND ((T59._Fld1687 = 0x00) AND (T58._Fld11084RRef IN (?))))
GROUP BY T58._Fld11083RRef,
T58._Fld11084RRef,
T58._Fld11085RRef) T57
INNER JOIN dbo._InfoRg11082 T60 WITH(NOLOCK)
ON T57.Fld11083RRef = T60._Fld11083RRef AND T57.Fld11084RRef = T60._Fld11084RRef AND T57.Fld11085RRef = T60._Fld11085RRef AND T57.MAXPERIOD_ = T60._Period) T56
ON (T56.Fld11083RRef = T54.Q_001_F_000RRef) AND (T56.Fld11085RRef = T54.Q_001_F_001RRef)
LEFT OUTER JOIN (SELECT
T65._Fld11084RRef AS Fld11084RRef,
T65._Fld11083RRef AS Fld11083RRef,
T65._Fld11085RRef AS Fld11085RRef,
T65._Fld11087 AS Fld11087_,
T65._Fld11088RRef AS Fld11088RRef
FROM (SELECT
T63._Fld11083RRef AS Fld11083RRef,
T63._Fld11084RRef AS Fld11084RRef,
T63._Fld11085RRef AS Fld11085RRef,
MAX(T63._Period) AS MAXPERIOD_
FROM dbo._InfoRg11082 T63 WITH(NOLOCK)
LEFT OUTER JOIN dbo._Reference129 T64 WITH(NOLOCK)
ON T63._Fld11084RRef = T64._IDRRef
WHERE T63._Period <= ? AND T63._Active = 0x01 AND ((T63._Fld11083RRef = ?) AND ((T64._Fld1687 = 0x00) AND (T63._Fld11084RRef IN (?))))
GROUP BY T63._Fld11083RRef,
T63._Fld11084RRef,
T63._Fld11085RRef) T62
INNER JOIN dbo._InfoRg11082 T65 WITH(NOLOCK)
ON T62.Fld11083RRef = T65._Fld11083RRef AND T62.Fld11084RRef = T65._Fld11084RRef AND T62.Fld11085RRef = T65._Fld11085RRef AND T62.MAXPERIOD_ = T65._Period) T61
ON (T61.Fld11083RRef = T54.Q_001_F_000RRef) AND (T61.Fld11085RRef = 0x00000000000000000000000000000000)
WHERE (NOT ((((ISNULL(T56.Fld11084RRef,T61.Fld11084RRef)) IS NULL))))) T53
LEFT OUTER JOIN (SELECT
T67.Fld9642RRef AS Q_001_F_000RRef,
T76._Fld1686RRef AS Q_001_F_001RRef,
T67.Fld9641_ AS Q_001_F_002_,
T67.Fld9640_ AS Q_001_F_003_
FROM (SELECT
T70._Fld9639RRef AS Fld9639RRef,
T70._Period AS Period_,
T70._Fld9642RRef AS Fld9642RRef,
T70._Fld9641 AS Fld9641_,
T70._Fld9640 AS Fld9640_
FROM (SELECT
T69._Fld9639RRef AS Fld9639RRef,
T69._Fld9640 AS Fld9640_,
MAX(T69._Period) AS MAXPERIOD_
FROM dbo._InfoRg9638 T69 WITH(NOLOCK)
WHERE T69._Active = 0x01
GROUP BY T69._Fld9639RRef,
T69._Fld9640) T68
INNER JOIN dbo._InfoRg9638 T70 WITH(NOLOCK)
ON T68.Fld9639RRef = T70._Fld9639RRef AND T68.Fld9640_ = T70._Fld9640 AND T68.MAXPERIOD_ = T70._Period) T67
INNER JOIN (SELECT
T72.Fld9639RRef AS Q_001_F_000RRef,
MAX(T72.Period_) AS Q_001_F_001_
FROM (SELECT
T75._Fld9639RRef AS Fld9639RRef,
T75._Period AS Period_
FROM (SELECT
T74._Fld9639RRef AS Fld9639RRef,
T74._Fld9640 AS Fld9640_,
MAX(T74._Period) AS MAXPERIOD_
FROM dbo._InfoRg9638 T74 WITH(NOLOCK)
WHERE T74._Active = 0x01
GROUP BY T74._Fld9639RRef,
T74._Fld9640) T73
INNER JOIN dbo._InfoRg9638 T75 WITH(NOLOCK)
ON T73.Fld9639RRef = T75._Fld9639RRef AND T73.Fld9640_ = T75._Fld9640 AND T73.MAXPERIOD_ = T75._Period) T72
GROUP BY T72.Fld9639RRef) T71
ON (T71.Q_001_F_000RRef = T67.Fld9639RRef) AND (T71.Q_001_F_001_ = T67.Period_)
INNER JOIN dbo._Reference129 T76 WITH(NOLOCK)
ON (T76._IDRRef = T67.Fld9639RRef)) T66
ON (T66.Q_001_F_001RRef = T53.Q_001_F_003RRef) AND (T66.Q_001_F_003_ > T53.Q_001_F_002_)
WHERE (NOT (((T66.Q_001_F_003_ IS NULL))))
GROUP BY T53.Q_001_F_003RRef,
T53.Q_001_F_001RRef,
T53.Q_001_F_000RRef) T52
INNER JOIN (SELECT
T78.Fld9642RRef AS Q_001_F_000RRef,
T82._Fld1686RRef AS Q_001_F_001RRef,
T78.Fld9641_ AS Q_001_F_002_,
T78.Fld9640_ AS Q_001_F_003_
FROM (SELECT
T81._Fld9639RRef AS Fld9639RRef,
T81._Fld9642RRef AS Fld9642RRef,
T81._Fld9641 AS Fld9641_,
T81._Fld9640 AS Fld9640_
FROM (SELECT
T80._Fld9639RRef AS Fld9639RRef,
T80._Fld9640 AS Fld9640_,
MAX(T80._Period) AS MAXPERIOD_
FROM dbo._InfoRg9638 T80 WITH(NOLOCK)
WHERE T80._Active = 0x01
GROUP BY T80._Fld9639RRef,
T80._Fld9640) T79
INNER JOIN dbo._InfoRg9638 T81 WITH(NOLOCK)
ON T79.Fld9639RRef = T81._Fld9639RRef AND T79.Fld9640_ = T81._Fld9640 AND T79.MAXPERIOD_ = T81._Period) T78
INNER JOIN dbo._Reference129 T82 WITH(NOLOCK)
ON (T82._IDRRef = T78.Fld9639RRef)) T77
ON (T77.Q_001_F_001RRef = T52.Q_001_F_002RRef) AND (T77.Q_001_F_003_ = T52.Q_001_F_005_)) T51
ON (T51.Q_001_F_002RRef = T18.Q_001_F_008RRef) AND (T51.Q_001_F_000RRef = T18.Q_001_F_000RRef) AND (T51.Q_001_F_001RRef = T18.Q_001_F_001RRef)
WHERE (CASE WHEN T18.Q_001_F_010_ = 0x01 THEN CASE WHEN (T18.Q_001_F_003RRef = ?) THEN (ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) + (CAST(ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) AS NUMERIC(34, 8)) * CAST((CAST(T18.Q_001_F_004_ AS NUMERIC(11, 8)) / ?) AS NUMERIC(11, 8)))) ELSE ISNULL(CAST(T51.Q_001_F_004_ AS NUMERIC(15, 2)),?) END ELSE ISNULL(CAST(T18.Q_001_F_002_ AS NUMERIC(38, 8)),?) END > ?)) T17
ON (T17.Q_001_F_000RRef = T1.Q_001_F_001RRef) AND (T17.Q_001_F_001RRef = T1.Q_001_F_000RRef)
UNION ALL SELECT
T83.Q_001_F_000RRef,
0x05,
?,
0x00000000000000000000000000000000,
0x05,
?,
0x00000000000000000000000000000000,
CAST(? AS NUMERIC(35, 3)),
CAST(? AS NUMERIC(37, 3)),
CAST(? AS NUMERIC(33, 3)),
T83.Q_001_F_001_,
0x03,
0x00,
?,
CAST(? AS NUMERIC(38, 8)),
0x03,
?,
0x00000000000000000000000000000000,
0x03,
?,
0x00000000000000000000000000000000,
?,
?,
CAST(NULL AS BINARY(16))
FROM (SELECT
T84.Fld11510RRef AS Q_001_F_000RRef,
CAST(SUM((ISNULL(CAST(T84.Fld11514Balance_ AS NUMERIC(27, 3)),0.0) - ISNULL(CAST(T86.Fld11937Balance_ AS NUMERIC(27, 3)),0.0))) AS NUMERIC(34, 3)) AS Q_001_F_001_
FROM (SELECT
T85._Fld11507_TYPE AS Fld11507_TYPE,
T85._Fld11507_RTRef AS Fld11507_RTRef,
T85._Fld11507_RRRef AS Fld11507_RRRef,
T85._Fld11509RRef AS Fld11509RRef,
T85._Fld11510RRef AS Fld11510RRef,
CAST(SUM(T85._Fld11514) AS NUMERIC(27, 3)) AS Fld11514Balance_
FROM dbo._AccumRgT11518 T85 WITH(NOLOCK)
WHERE T85._Period = ? AND ((T85._Fld11509RRef = ?)) AND (T85._Fld11514 <> ?) AND (T85._Fld11514 <> ?)
GROUP BY T85._Fld11507_TYPE,
T85._Fld11507_RTRef,
T85._Fld11507_RRRef,
T85._Fld11509RRef,
T85._Fld11510RRef
HAVING (CAST(SUM(T85._Fld11514) AS NUMERIC(27, 3))) <> 0.0) T84
LEFT OUTER JOIN (SELECT
T87._Fld11936_TYPE AS Fld11936_TYPE,
T87._Fld11936_RTRef AS Fld11936_RTRef,
T87._Fld11936_RRRef AS Fld11936_RRRef,
T87._Fld11933RRef AS Fld11933RRef,
T87._Fld11934RRef AS Fld11934RRef,
CAST(SUM(T87._Fld11937) AS NUMERIC(27, 3)) AS Fld11937Balance_
FROM dbo._AccumRgT11941 T87 WITH(NOLOCK)
WHERE T87._Period = ? AND ((T87._Fld11933RRef = ?)) AND (T87._Fld11937 <> ?) AND (T87._Fld11937 <> ?)
GROUP BY T87._Fld11936_TYPE,
T87._Fld11936_RTRef,
T87._Fld11936_RRRef,
T87._Fld11933RRef,
T87._Fld11934RRef
HAVING (CAST(SUM(T87._Fld11937) AS NUMERIC(27, 3))) <> 0.0) T86
ON (T86.Fld11936_TYPE = T84.Fld11507_TYPE AND T86.Fld11936_RTRef = T84.Fld11507_RTRef AND T86.Fld11936_RRRef = T84.Fld11507_RRRef) AND (T84.Fld11509RRef = T86.Fld11933RRef) AND (T84.Fld11510RRef = T86.Fld11934RRef)
GROUP BY T84.Fld11510RRef) T83
WHERE (ISNULL(CAST(T83.Q_001_F_001_ AS NUMERIC(34, 3)),?) > ?)
ORDER BY 1, 2, 3, 4
p_0: ''
p_1: ''
p_2: 0N
p_3: 0N
p_4: 0N
p_5: 0N
p_6: 0N
p_7: 1N
p_8: 1N
p_9: 0xA244005056B6DBD711EC9F57059F1FBA
p_10: 0xA244005056B6DBD711EC9F57059F1FBA
p_11: 0N
p_12: 0N
p_13: 0N
p_14: 0N
p_15: 59991101000000
p_16: 0xA244005056B6DBD711EC9F57059F1FBA
p_17: 0N
p_18: 0N
p_19: 0N
p_20: 0N
p_21: 0N
p_22: 0N
p_23: 59991101000000
p_24: 0xA244005056B6DBD711EC9F57059F1FBA
p_25: 0N
p_26: 0N
p_27: 0N
p_28: 0N
p_29: 0N
p_30: 0N
p_31: 59991101000000
p_32: 0xA244005056B6DBD711EC9F57059F1FBA
p_33: 0N
p_34: 0N
p_35: 0N
p_36: 0N
p_37: 0N
p_38: 0N
p_39: 59991101000000
p_40: 0xA244005056B6DBD711EC9F57059F1FBA
p_41: 0N
p_42: 0N
p_43: 0N
p_44: 0N
p_45: 0N
p_46: 0N
p_47: 59991101000000
p_48: 0xA244005056B6DBD711EC9F57059F1FBA
p_49: 0N
p_50: 0N
p_51: 0xA244005056B6DBD711EC9F57059F1FBA
p_52: 0x838A6658CA81B23A4B23F0FF35044524
p_53: 0N
p_54: 0N
p_55: 100N
p_56: 0N
p_57: 0N
p_58: 0x838A6658CA81B23A4B23F0FF35044524
p_59: 0x838A6658CA81B23A4B23F0FF35044524
p_60: 0N
p_61: 0N
p_62: 0N
p_63: 0N
p_64: 0N
p_65: 0N
p_66: 0N
p_67: 0N
p_68: 0xA244005056B6DBD711EC9F57059F1FBA
p_69: 0xA244005056B6DBD711EC9F57059F1FBA
p_70: 0xB1F090E6BAD53EC511DFC6D90E997895
p_71: 40230407235959
p_72: 0xA244005056B6DBD711EC9F57059F1FBA
p_73: 40230407235959
p_74: 0xA244005056B6DBD711EC9F57059F1FBA
p_75: 40230407235959
p_76: 0xA244005056B6DBD711EC9F57059F1FBA
p_77: 40230407235959
p_78: 0xA244005056B6DBD711EC9F57059F1FBA
p_79: 0N
p_80: 0xA244005056B6DBD711EC9F57059F1FBA
p_81: 0xA244005056B6DBD711EC9F57059F1FBA
p_82: 40230407235959
p_83: 0xA244005056B6DBD711EC9F57059F1FBA
p_84: 0xB1F090E6BAD53EC511DFC6D90E997895
p_85: 40230407235959
p_86: 0xA244005056B6DBD711EC9F57059F1FBA
p_87: 0xB1F090E6BAD53EC511DFC6D90E997895
p_88: 0x838A6658CA81B23A4B23F0FF35044524
p_89: 0N
p_90: 0N
p_91: 100N
p_92: 0N
p_93: 0N
p_94: 0N
p_95: 'НеВыводить'
p_96: 'НеВыводить'
p_97: 0N
p_98: 0N
p_99: 0N
p_100: 0N
p_101: 0N
p_102: 0N
p_103: 0N
p_104: 0N
p_105: 0N
p_106: 59991101000000
p_107: 0xA244005056B6DBD711EC9F57059F1FBA
p_108: 0N
p_109: 0N
p_110: 59991101000000
p_111: 0xA244005056B6DBD711EC9F57059F1FBA
p_112: 0N
p_113: 0N
p_114: 0N
p_115: 0N
",Rows=6,RowsAffected=-1
58:12.306007-0,Context,2,process=rphost,p:processName=AstOffice,OSThread=3572,t:clientID=374,t:applicationName=1CV8,t:computerName=AST12MANMBT7,t:connectID=4059,SessionID=11596,Usr=Панченко Дмитрий,Context='
Справочник.Номенклатура.Форма.ФормаСписка.Форма : 524 : ПоказатьОстаткиТоваров();
	Справочник.Номенклатура.Форма.ФормаСписка.Форма : 49 : УправлениеЗапасами.ПолучитьДеревоОстатковНоменклатуры(ОстаткиТоваров, ЭлементыФормы.Список.ТекущиеДанные.Ссылка, Истина, СписокЦенОстатков, , мСоответвиекурсовВалют);
		ОбщийМодуль.УправлениеЗапасами.Модуль : 3064 : РезультатЗапроса = Запрос.Выполнить();'
58:35.337010-1484001,DBMSSQL,4,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=63,Sql='SELECT TOP 1
T1._IDRRef
FROM dbo._Document25869 T1 WITH(NOLOCK)
WHERE (T1._Marked = 0x00) AND (T1._Fld25870 = ?)
p_0: 130095199N
',Rows=1,RowsAffected=-1
58:35.337015-0,Context,2,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,Context='
ВнешняяОбработка.ПолучитСписокДействий.Форма.Форма.Форма : 11 : ПолучитьТаблицуДействий(НачДня, КонДня);
	ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 72 : ДокументДвижения 			= ПолучитьДокументДействияПоИд(ИдДействия);
		ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 142 : РезультатЗапроса = Запрос.Выполнить();'
58:42.275000-1077943,DBMSSQL,4,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=75,Sql='SELECT TOP 1
T1._IDRRef
FROM dbo._Document25869 T1 WITH(NOLOCK)
WHERE (T1._Marked = 0x00) AND (T1._Fld25870 = ?)
p_0: 129747201N
',Rows=1,RowsAffected=-1
58:42.275011-0,Context,2,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,Context='
ВнешняяОбработка.ПолучитСписокДействий.Форма.Форма.Форма : 11 : ПолучитьТаблицуДействий(НачДня, КонДня);
	ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 72 : ДокументДвижения 			= ПолучитьДокументДействияПоИд(ИдДействия);
		ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 142 : РезультатЗапроса = Запрос.Выполнить();'
58:53.182001-1061992,DBMSSQL,4,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,DBMS=DBMSSQL,DataBase=ASTSQLOFFICE2\AstOffice,Trans=0,dbpid=63,Sql='SELECT TOP 1
T1._IDRRef
FROM dbo._Document25869 T1 WITH(NOLOCK)
WHERE (T1._Marked = 0x00) AND (T1._Fld25870 = ?)
p_0: 129746636N
',Rows=1,RowsAffected=-1
58:53.182006-0,Context,2,process=rphost,p:processName=AstOffice,OSThread=13536,t:clientID=610,t:applicationName=1CV8,t:computerName=AST1CMARKET,t:connectID=4446,SessionID=13561,Usr=Муцкий Герман,Context='
ВнешняяОбработка.ПолучитСписокДействий.Форма.Форма.Форма : 11 : ПолучитьТаблицуДействий(НачДня, КонДня);
	ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 72 : ДокументДвижения 			= ПолучитьДокументДействияПоИд(ИдДействия);
		ВнешняяОбработка.ПолучитСписокДействий.МодульОбъекта : 142 : РезультатЗапроса = Запрос.Выполнить();'
